document.addEventListener('DOMContentLoaded', () => {
    const themeBtns = document.querySelectorAll('.theme-btn');
    const langBtns = document.querySelectorAll('.lang-btn');
    const translatableElements = document.querySelectorAll('[data-fr]');

    let currentTheme = 'dark';
    let currentLang = 'fr';

    function setTheme(theme) {
        currentTheme = theme;
        document.body.classList.toggle('light-mode', theme === 'light');
        themeBtns.forEach(btn => btn.classList.toggle('active', btn.dataset.theme === theme));
    }

    function setLanguage(lang) {
        currentLang = lang;
        langBtns.forEach(btn => btn.classList.toggle('active', btn.dataset.lang === lang));
        translatableElements.forEach(el => {
            const text = el.getAttribute(`data-${lang}`);
            if (text) el.innerHTML = text;
        });
    }

    // Initial setup
    setTheme(currentTheme);
    setLanguage(currentLang);

    // Event Listeners
    themeBtns.forEach(btn => btn.addEventListener('click', () => setTheme(btn.dataset.theme)));
    langBtns.forEach(btn => btn.addEventListener('click', () => setLanguage(btn.dataset.lang)));

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', e => {
            e.preventDefault();
            const target = document.querySelector(anchor.getAttribute('href'));
            if (target) {
                target.scrollIntoView({ behavior: 'smooth' });
            }
        });
    });
});
